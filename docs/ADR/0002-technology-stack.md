# ADR-0002: 技術スタック選定

## ステータス
採用

## 日付
2026-01-11

## コンテキスト
Rustの頻出パッケージを学習しながら、実用的なAPIサーバーを構築したい。Node.jsエコシステムでいうexpress、eslint、prettierに相当するパッケージを選定する必要がある。

## 決定

### コアパッケージ

| 用途 | 採用パッケージ | バージョン | Node.js相当 | 選定理由 |
|------|---------------|------------|-------------|----------|
| Webフレームワーク | **axum** | 0.8 | Express | Tokioチーム製、マクロ不要、Tower互換 |
| 非同期ランタイム | **tokio** | 1.x | Node.jsイベントループ | デファクトスタンダード |
| HTTPクライアント | **reqwest** | 0.12 | axios/fetch | 最も人気、async対応 |
| JSON処理 | **serde** + **serde_json** | 1.x | 組み込みJSON | デファクトスタンダード |
| 環境変数 | **dotenvy** | 0.15 | dotenv | dotenvのメンテナンス版 |
| ロギング | **tracing** | 0.1 | winston/pino | 構造化ログ、async対応 |
| エラー処理 | **thiserror** | 2.x | - | derive マクロでエラー型を簡潔に定義 |
| 汎用エラー | **anyhow** | 1.x | - | 簡易エラーハンドリング |

### 開発ツール

| 用途 | ツール | Node.js相当 |
|------|--------|-------------|
| Linter | **clippy** | ESLint |
| Formatter | **rustfmt** | Prettier |
| パッケージ管理 | **cargo** | npm/yarn |

## 検討したが採用しなかったもの

| パッケージ | 理由 |
|-----------|------|
| actix-web | axumより学習曲線が急、マクロが多い |
| rocket | 安定版がまだ成熟していない |
| warp | axumの方がエコシステムが充実 |
| diesel (ORM) | Phase 2で検討、今回はDB不要 |
| dotenv | メンテナンスされていない（dotenvyを採用） |

## 結果
- Rustエコシステムの主流パッケージを網羅的に学習できる構成
- ドキュメントが豊富で、問題解決しやすい
- 本番環境でも使用可能な堅牢なスタック
